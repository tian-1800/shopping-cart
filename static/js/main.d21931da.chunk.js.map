{"version":3,"sources":["component/header-shop.js","component/display-slider.js","component/item-card.js","component/shop.js","component/home.js","component/icon/cart.js","component/sticky-cart.js","component/cart-input.js","component/item-page.js","hooks/fetch-item.js","App.js","index.js"],"names":["HeaderShop","id","DisplaySlider","props","sectionName","children","useState","distance","setDistance","translationIndex","setTranslationIndex","maxTranslationIndex","setMaxTranslationIndex","distanceEachClick","setDistanceEachClick","useEffect","frameWidth","document","getElementById","offsetWidth","containerWidth","type","className","onClick","style","transform","ItemCard","item","title","image","price","to","src","alt","Shop","things","cart","error","setError","length","sessionStorage","clear","map","Home","CartIcon","viewBox","fill","height","width","d","StickyCart","renderedCart","setCart","cartExpanded","setCardExpanded","totalPrice","reduce","total","quantity","toggleCartExpand","tempArr","copiedItem","fontSize","CartInput","submit","qty","value","setValue","onSubmit","e","preventDefault","name","onChange","parseInt","target","required","Item","itemToDisplay","setItemToDisplay","cartState","shoppingCart","setShoppingCart","match","useRouteMatch","find","element","params","description","amount","index","findIndex","el","useDataFromAPI","isLoaded","setIsLoaded","isStorageNull","setIsStorageNull","key","JSON","parse","getItem","data","setData","setItem","stringify","useSessionStorage","items","setItems","console","log","fetch","mode","then","response","ok","Error","json","initializedItems","App","exact","path","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d21931da.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function HeaderShop() {\n  return (\n    <header id=\"header-shop\">\n      <h3>Petok-Petok Fake Store</h3>\n    </header>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n// #container contains all the images, while #frame contains all visible images. Slider will\n// translate/shift #container within #frame\n\nexport default function DisplaySlider(props) {\n  const { sectionName, children } = props;\n  const [distance, setDistance] = useState(0);\n  const [translationIndex, setTranslationIndex] = useState(0);\n  const [maxTranslationIndex, setMaxTranslationIndex] = useState(0);\n  const [distanceEachClick, setDistanceEachClick] = useState(0);\n  useEffect(() => {\n    const frameWidth = document.getElementById(\n      `${sectionName}-frame`\n    ).offsetWidth;\n    const containerWidth = document.getElementById(\n      `${sectionName}-container`\n    ).offsetWidth;\n    setDistanceEachClick(frameWidth * 0.9);\n    setMaxTranslationIndex(containerWidth / (frameWidth * 0.9));\n  }, [children]);\n\n  const slideLeft = () => {\n    if (translationIndex > 0) {\n      if (translationIndex < 1) {\n        setDistance(0);\n        setTranslationIndex(0);\n      } else {\n        setDistance(distance + distanceEachClick);\n        setTranslationIndex(translationIndex - 1);\n      }\n    }\n  };\n  const slideRight = () => {\n    if (translationIndex < maxTranslationIndex) {\n      if (maxTranslationIndex - translationIndex < 2) {\n        setDistance((maxTranslationIndex - 1) * distanceEachClick * -1);\n        setTranslationIndex(maxTranslationIndex - 1);\n      } else {\n        setDistance(distance - distanceEachClick);\n        setTranslationIndex(translationIndex + 1);\n      }\n    }\n  };\n  return (\n    <div>\n      <div>\n        <button type=\"button\" className=\"left-button\" onClick={slideLeft}>\n          <i className=\"material-icons arrow\">keyboard_arrow_left</i>\n        </button>\n        <button type=\"button\" className=\"right-button\" onClick={slideRight}>\n          <i className=\"material-icons arrow\">keyboard_arrow_right</i>\n        </button>\n      </div>\n      <div id={`${sectionName}-frame`}>\n        <div\n          id={`${sectionName}-container`}\n          style={{ transform: `translateX(${distance}px)` }}\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function ItemCard(props) {\n    const {item} = props;\n    const {title, image, price} = item;\n    return (\n        <div className=\"item-card\" >\n          <Link to={`/shop/${title}`}>\n            <img src={image} alt={`${title}`} />\n          </Link>\n          <p>{title} {price}</p>\n        </div>\n      );\n\n}","import React, { useEffect, useState } from \"react\";\nimport HeaderShop from \"./header-shop\";\nimport DisplaySlider from \"./display-slider\";\nimport ItemCard from \"./item-card\";\n\nexport default function Shop(props) {\n  const { cart } = props;\n  const [error, setError] = useState(false);\n  const populateShop = (things) =>\n    things.map((item) => <ItemCard item={item} key={item.title} />);\n  useEffect(() => {\n    if (!cart.length > 0) {\n      setError(true);\n      sessionStorage.clear();\n    } else {\n      setError(false);\n    }\n  }, []);\n\n  return (\n    <div id=\"shop\">\n      <HeaderShop />\n      <p>Browse by product</p>\n      <h1>{error && \"There is an error occured\"}</h1>\n      <DisplaySlider sectionName=\"shop\">{populateShop(cart)}</DisplaySlider>\n    </div>\n  );\n}\n","import React from \"react\";\nimport {Link} from \"react-router-dom\";\n\nexport default function Home() {\n  return (\n    <div id=\"home\">\n      <h1>Petok-petok Fake Store</h1>\n      <p>A React Learning Project</p>\n      <Link to =\"/shop\">Shop</Link>\n    </div>\n  );\n}\n","/* eslint-disable react/jsx-props-no-spreading */\n\nimport * as React from \"react\";\n\nfunction CartIcon(props) {\n  return (\n    <svg\n      viewBox=\"0 0 512 512\"\n      fill=\"currentColor\"\n      height=\"1em\"\n      width=\"1em\"\n      {...props}\n    >\n      <path d=\"M208 416 A32 32 0 0 1 176 448 A32 32 0 0 1 144 416 A32 32 0 0 1 208 416 z\" />\n      <path d=\"M432 416 A32 32 0 0 1 400 448 A32 32 0 0 1 368 416 A32 32 0 0 1 432 416 z\" />\n      <path d=\"M456.8 120.78a23.92 23.92 0 00-18.56-8.78H133.89l-6.13-34.78A16 16 0 00112 64H48a16 16 0 000 32h50.58l45.66 258.78A16 16 0 00160 368h256a16 16 0 000-32H173.42l-5.64-32h241.66A24.07 24.07 0 00433 284.71l28.8-144a24 24 0 00-5-19.93z\" />\n    </svg>\n  );\n}\n\nexport default CartIcon;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport CartIcon from \"./icon/cart\";\n\nexport default function StickyCart({ cart, setCart }) {\n  // const { cart } = props;\n  const [cartExpanded, setCardExpanded] = useState(false);\n\n  const totalPrice = cart.reduce(\n    (total, item) => total + item.price * item.quantity,\n    0\n  );\n  let renderedCart;\n  if (totalPrice > 0)\n    renderedCart = cart.map((item) => {\n      const { title, price, quantity } = item;\n      if (!quantity > 0) return null;\n      return (\n        <div key={title}>\n          <div className=\"cart-list-item\">\n            <div>{title} </div>\n            <div>\n              quantity: <strong>{quantity}</strong> <br />\n              each <strong>${price}</strong>\n            </div>\n            <div>\n              total: <strong>${price * quantity}</strong>\n            </div>\n          </div>\n        </div>\n      );\n    });\n  else {\n    renderedCart = (\n      <>\n        <div>You have no items in the cart</div>\n        <div id=\"cart-button-container\">\n          <button\n            type=\"button\"\n            id=\"close-cart-detail\"\n            onClick={() => {\n              setCardExpanded(false);\n            }}\n          >\n            Close\n          </button>\n        </div>\n      </>\n    );\n  }\n\n  const toggleCartExpand = () => {\n    setCardExpanded(!cartExpanded);\n  };\n\n  const resetCard = () => {\n    const tempArr = [...cart].map((item) => {\n      const copiedItem = item;\n      copiedItem.quantity = 0;\n      return copiedItem;\n    });\n    setCart(tempArr);\n    setCardExpanded(false);\n  };\n\n  if (!cartExpanded)\n    return (\n      <div id=\"sticky-cart\">\n        <button type=\"button\" onClick={toggleCartExpand}>\n          <CartIcon fontSize={36} />\n        </button>\n        <span>${totalPrice}</span>\n      </div>\n    );\n  return (\n    <div id=\"cart-detail\">\n      {renderedCart}\n      <div id=\"grand-total\">\n        Grand total: <strong>${totalPrice}</strong>\n      </div>\n\n      {totalPrice > 0 && (\n        <div id=\"cart-button-container\">\n          <button type=\"button\" id=\"cart-checkout\" onClick={resetCard}>\n            <Link to=\"/\">Checkout</Link>\n          </button>\n          <button\n            type=\"button\"\n            id=\"close-cart-detail\"\n            onClick={toggleCartExpand}\n          >\n            Close\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\n\nexport default function CartInput(props) {\n  const { submit, qty } = props;\n  const [value, setValue] = useState(0);\n  useEffect(() => {\n    setValue(qty || 0);\n  }, [qty]);\n  const handleIncrement = () => {\n    setValue(value + 1);\n  };\n  const handleDecrement = () => {\n    setValue(value - 1);\n  };\n  const handleChange = (e) => {\n    setValue(parseInt(e.target.value, 10));\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    submit(value);\n  };\n  return (\n    <div id=\"cart-input\">\n      <p>Quantity:</p>\n      <form id=\"quantity-form\" onSubmit={handleSubmit}>\n        <div className=\"input-group\">\n          <button\n            type=\"button\"\n            id=\"dec-button\"\n            name=\"decrement\"\n            onClick={handleDecrement}\n          >\n            &#8722;\n          </button>\n          <input\n            type=\"number\"\n            value={value}\n            name=\"quantity\"\n            onChange={handleChange}\n            required\n          />\n          <button\n            type=\"button\"\n            className=\"inc-button\"\n            name=\"increment\"\n            onClick={handleIncrement}\n          >\n            &#43;\n          </button>\n        </div>\n        <button type=\"submit\" id=\"submit-button\">\n          Add to cart\n        </button>\n      </form>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useRouteMatch, Link } from \"react-router-dom\";\nimport HeaderShop from \"./header-shop\";\nimport CartInput from \"./cart-input\";\n\nexport default function Item(props) {\n  const [itemToDisplay, setItemToDisplay] = useState([]);\n  const { cartState } = props;\n  const { shoppingCart, setShoppingCart } = cartState;\n  const match = useRouteMatch(\"/shop/:item/\");\n\n  useEffect(() => {\n    const item = shoppingCart.find(\n      (element) => element.title === match.params.item\n    );\n    setItemToDisplay(item);\n  }, [shoppingCart]);\n\n  const addToCart = (amount) => {\n    const index = shoppingCart.findIndex(\n      (el) => el.title === match.params.item\n    );\n    if (index !== -1) {\n      const tempArr = [...shoppingCart];\n      tempArr[index].quantity = amount;\n      setShoppingCart(tempArr);\n    }\n  };\n  return (\n    <div id=\"item-page\">\n      <HeaderShop />\n      <div id=\"item-container\">\n        <img\n          id=\"item-img\"\n          src={itemToDisplay.image}\n          alt={itemToDisplay.title}\n        />\n        <div id=\"item-detail\">\n          <h3 id=\"item-title\">{itemToDisplay.title} </h3>\n          <p id=\"item-desc-title\">Description: </p>\n          <p id=\"item-description\">{itemToDisplay.description}</p>\n          <p>Price: {`$${itemToDisplay.price}`}</p>\n\n          <CartInput submit={addToCart} qty={itemToDisplay.quantity} />\n\n          <Link to={`/shop`}>\n            <button type=\"button\" className=\"back\">\n              <i className=\"material-icons arrow\">reply</i>\n            </button>\n            <span>Go back</span>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect } from \"react\";\n\nexport default function useDataFromAPI() {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [isStorageNull, setIsStorageNull] = useState(false);\n\n  const useSessionStorage = (key) => {\n    const [data, setData] = useState(JSON.parse(sessionStorage.getItem(key)));\n    useEffect(() => {\n      sessionStorage.setItem(key, JSON.stringify(data));\n    }, [data]);\n    if (!data && !isStorageNull) {\n      setIsStorageNull(true);\n      setData([]);\n    }\n    return [data, setData];\n  };\n  const [items, setItems] = useSessionStorage(\"cart-storage\");\n\n  const fetchData = () => {\n    if (!isStorageNull) return;\n    console.log(\"fetching\");\n    fetch(\"https://fakestoreapi.com/products\", { mode: \"cors\" })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(\"Could not fetch products\");\n        }\n        return response.json();\n      })\n      .then((response) => {\n        const initializedItems = response.map((item) => {\n          const copiedItem = item;\n          copiedItem.quantity = 0;\n          return copiedItem;\n        });\n        setItems(initializedItems);\n        setIsLoaded(true);\n        console.log(\"fetched\");\n      });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, [isLoaded]);\n\n  return [items, setItems];\n}\n","import React from \"react\";\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\nimport \"./App.css\";\n\nimport Shop from \"./component/shop\";\nimport Home from \"./component/home\";\nimport StickyCart from \"./component/sticky-cart\";\nimport Item from \"./component/item-page\";\nimport useDataFromAPI from \"./hooks/fetch-item\";\n\nfunction App() {\n  const [shoppingCart, setShoppingCart] = useDataFromAPI();\n  return (\n    <HashRouter>\n      <StickyCart cart={shoppingCart} setCart={setShoppingCart} />\n      <Switch>\n        <Route exact path=\"/\">\n          <Home />\n        </Route>\n\n        <Route exact path=\"/shop\">\n          <Shop cart={shoppingCart} />\n        </Route>\n\n        <Route exact path=\"/shop/:item/\">\n          <Item cartState={{ shoppingCart, setShoppingCart }} />\n        </Route>\n      </Switch>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './index.css';\nimport \"./style/home.css\";\nimport \"./style/shop.css\";\nimport \"./style/sticky-cart.css\";\nimport \"./style/cart-input.css\";\nimport \"./style/item-page.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}